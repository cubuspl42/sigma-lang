%val a = {}

%val value1 = {
    x4 = {},
    x5 = {},
}

%val value2 = {
    x3 = {},
}

%fun foo ^{arg1: Type1} => {}

%val bar = foo{arg2 = value1}

%val main = %let {
    foo2 = ^{arg3: Type1} => {
        a1 = {},
        a2 = arg3,
    },
    bar3 = foo{arg3 = value2},
    baz = %when (
        %case value2 => foo
        %case value2 => bar
        %case foo{arg2 = {}} => bar
        %else => a
    ),
} %in baz
